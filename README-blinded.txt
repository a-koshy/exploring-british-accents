Exploring British Accents: Modeling the Trap–Bath Split with Functional Data Analysis
-------------------------------------------------------------------------------------


OUTLINE
-------
1. DATA
2. CODE
3. SUPPLEMENTAL OUTPUTS
4. VERSION

This folder contains the data, R code and supplemental outputs accompanying the manuscript 'Exploring British Accents: Modeling the Trap–Bath Split with Functional Data Analysis'.


1. DATA
-------
Datasets are stored in /data/. The original NSCV audio files can be obtained from http://wrap.warwick.ac.uk/138368/. The entire BNC audio edition can be accessed at http://www.phon.ox.ac.uk/AudioBNC, and the subset of ``class'' words analyzed in this manuscript are in bnc_sounds.rda. Preprocessed datasets of the NSCV and BNC formants and MFCCs are provided here, and can be recreated from the original audio by running preprocessing.R.

File descriptions:

- nscv_log.RData and bnc_log.RData contain metadata tables for the NSCV and BNC datasets respectively.

- nscv_raw_formant.RData, nscv_raw_mfcc.RData, nscv_smooth_formant.RData and nscv_smooth_mfcc.RData contain the raw and preprocessed formants and MFCCs respectively, extracted from the NSCV audio files.

- bnc_sounds.rda contains audio for the BNC vowel sounds.

- bnc_raw_formant.RData, bnc_raw_mfcc.RData, bnc_smooth_formant.RData and bnc_smooth_mfcc.RData
contain the raw and preprocessed formants and MFCCs respectively, extracted from the BNC sounds in bnc_sounds.rda.

- bnc_aligned.RData contains MFCCs, formants and warping functions after alignment of MFCC 1 curves within BNC speakers.

- aa-index-to-remove.RData contains indices of BNC sounds which contained high amounts of background noise and were removed.

- locations.RData contains map coordinates of the geographical locations in the BNC.

- knotsfew.csv contains the knot locations used for the soap film smoother.


2. CODE
-------
R code files are in /code/. This code uses R version 4.0.2. To recreate the models and figures in the manuscript, run plots.R.

File descriptions:

- setup.R loads libraries and datasets. 

- functions.R contains helper functions for preprocessing, plotting, model diagnostics and working with audio files.

- models.R contains code for fitting the models presented in the paper.

- plots.R generates figures and other outputs.

- preprocessing.R contains the code that recreates the preprocessed NSCV and BNC datasets starting from the audio files. The ahocoder software (https://aholab.ehu.eus/ahocoder/) needs to be installed separately for extracting MFCCs from sounds or resynthesizing sounds from MFCCs.


3. SUPPLEMENTAL OUTPUTS
-----------------------
These files are generated by plots.R.

- nscv.gif is a GIF file showing animated formant trajectories in the NSCV sounds.

- blast-StoN.wav contains the resynthesized word ``blast'' spoken in a Southern accent and perturbed towards a Northern accent.

- class-NtoS.wav contains the resynthesized word ``class'' spoken in a Northern accent and perturbed towards a Southern accent.


4. VERSION
----------
Version 1.0 (26 August 2020)

